<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Construct Locality String — strLoc • plantR</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Construct Locality String — strLoc" />
<meta property="og:description" content="The function combines the locality fields available to create
the standard plantR locality string, which is used for the validate
localities and geographical coordinates." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">plantR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/plantr_introduction.html">An Introduction to __plantR__</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/LimaRAF/plantR/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Construct Locality String</h1>
    <small class="dont-index">Source: <a href='https://github.com/LimaRAF/plantR/blob/master/R/strLoc.R'><code>R/strLoc.R</code></a></small>
    <div class="hidden name"><code>strLoc.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The function combines the locality fields available to create
the standard <strong>plantR</strong> locality string, which is used for the validate
localities and geographical coordinates.</p>
    </div>

    <pre class="usage"><span class='fu'>strLoc</span><span class='op'>(</span>
  <span class='va'>x</span>,
  adm.names <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"country.new"</span>, <span class='st'>"stateProvince.new"</span>, <span class='st'>"municipality.new"</span><span class='op'>)</span>,
  loc.names <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"locality.new"</span>, <span class='st'>"locality.scrap"</span>, <span class='st'>"resol.orig"</span><span class='op'>)</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>a data frame.</p></td>
    </tr>
    <tr>
      <th>adm.names</th>
      <td><p>a vector of columns names containing the country,
state/province and municipality information, in this order. Defaults to
'country.new', 'stateProvince.new' and 'municipality.new'.</p></td>
    </tr>
    <tr>
      <th>loc.names</th>
      <td><p>an vector of columns names containing the locality
(original and alternative) and the resolution of the locality information.
Defaults to 'locality.new', 'locality.scrap' and 'resol.orig'.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The data frame <code>x</code> plus the locality strings constructed from
the locality information ('loc.string', 'loc.string1' and 'loc.string2').</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The function combines the locality information provided to create
the standard string that <strong>plantR</strong> uses to retrieve information from
its gazetteer. This string is built by concatenating the country, state,
municipality and locality fields at the best resolution available. This
nested format decreases the chances of retrieving information from
localities with the same names in different regions. The standard gazetteer
provided with <strong>plantR</strong> uses this standard locality string to make queries
(see function <code><a href='getLoc.html'>getLoc()</a></code> for details).</p>
<p>The input data frame should preferably be the output of the <strong>plantR</strong>
function <code><a href='fixLoc.html'>fixLoc()</a></code>, as part of the validation workflow used by <strong>plantR</strong>.
This function returns the edited locality fields (the function defaults) and,
if chosen, an extra locality field. In this case, <code>strLoc()</code> also returns an
alternative string ('loc.string2').</p>
<p>If used separately, users should provide a data frame with an specific set of
column names (i.e. country.new, stateProvince.new, municipality.new,
locality.new, and, if chosen, locality.scrap) or change the defaults. See
examples below.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><a href='fixLoc.html'>fixLoc</a> and <a href='getLoc.html'>getLoc</a>.</p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Renato A. F. de Lima</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'>## Using the function separately (need to provide a data in a specific format)</span>
<span class='co'># Creating a data frame with locality information</span>
<span class='op'>(</span><span class='va'>df</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>country.new <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"brazil"</span>, <span class='st'>"brazil"</span>, <span class='st'>"brazil"</span><span class='op'>)</span>,
stateProvince.new <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"rio de janeiro"</span>, <span class='st'>"rio de janeiro"</span>, <span class='st'>"rio de janeiro"</span><span class='op'>)</span>,
municipality.new <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"parati"</span>, <span class='st'>"paraty"</span>, <span class='st'>"paraty"</span><span class='op'>)</span>,
locality.new <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='cn'>NA</span>,<span class='st'>"paraty-mirim"</span>, <span class='cn'>NA</span><span class='op'>)</span>,
locality.scrap <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='cn'>NA</span>, <span class='cn'>NA</span>, <span class='st'>"trindade"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt;   country.new stateProvince.new municipality.new locality.new locality.scrap
#&gt; 1      brazil    rio de janeiro           parati         &lt;NA&gt;           &lt;NA&gt;
#&gt; 2      brazil    rio de janeiro           paraty paraty-mirim           &lt;NA&gt;
#&gt; 3      brazil    rio de janeiro           paraty         &lt;NA&gt;       trindade</div><div class='input'>
<span class='co'># Creating locality strings used to query the gazetteer</span>
<span class='fu'>strLoc</span><span class='op'>(</span><span class='va'>df</span><span class='op'>)</span>
</div><div class='output co'>#&gt;   country.new stateProvince.new municipality.new locality.new locality.scrap
#&gt; 1      brazil    rio de janeiro           parati         &lt;NA&gt;           &lt;NA&gt;
#&gt; 2      brazil    rio de janeiro           paraty paraty-mirim           &lt;NA&gt;
#&gt; 3      brazil    rio de janeiro           paraty         &lt;NA&gt;       trindade
#&gt;                     loc.string                               loc.string1
#&gt; 1 brazil_rio de janeiro_parati                                      &lt;NA&gt;
#&gt; 2 brazil_rio de janeiro_paraty brazil_rio de janeiro_paraty_paraty-mirim
#&gt; 3 brazil_rio de janeiro_paraty                                      &lt;NA&gt;
#&gt;                      loc.string2
#&gt; 1                           &lt;NA&gt;
#&gt; 2                           &lt;NA&gt;
#&gt; 3 brazil_rio de janeiro_trindade</div><div class='input'>

<span class='co'>## Using the function under the __plantR__ cleaning workflow</span>
<span class='co'># Creating a data frame with locality information</span>
<span class='op'>(</span><span class='va'>df</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>country <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"BR"</span>, <span class='st'>"Brazil"</span>, <span class='st'>"Brasil"</span><span class='op'>)</span>,
stateProvince <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"RJ"</span>, <span class='st'>"Rio de Janeiro"</span>, <span class='st'>"Rio de Janeiro"</span><span class='op'>)</span>,
municipality <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Parati"</span>, <span class='st'>"Paraty"</span>, <span class='st'>"Paraty"</span><span class='op'>)</span>,
locality <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='cn'>NA</span>,<span class='st'>"Paraty-Mirim"</span>, <span class='st'>"Trindade"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt;   country  stateProvince municipality     locality
#&gt; 1      BR             RJ       Parati         &lt;NA&gt;
#&gt; 2  Brazil Rio de Janeiro       Paraty Paraty-Mirim
#&gt; 3  Brasil Rio de Janeiro       Paraty     Trindade</div><div class='input'>
<span class='co'># Formating the locality information</span>
<span class='va'>df.fix</span> <span class='op'>&lt;-</span> <span class='fu'><a href='fixLoc.html'>fixLoc</a></span><span class='op'>(</span><span class='va'>df</span><span class='op'>)</span>

<span class='co'># Creating locality strings used to query the gazetteer</span>
<span class='fu'>strLoc</span><span class='op'>(</span><span class='va'>df.fix</span><span class='op'>)</span>
</div><div class='output co'>#&gt;   country.new stateProvince.new municipality.new locality.new locality.scrap
#&gt; 1      brazil       rio janeiro           parati         &lt;NA&gt;           &lt;NA&gt;
#&gt; 2      brazil    rio de janeiro           paraty paraty-mirim   paraty-mirim
#&gt; 3      brazil    rio de janeiro           paraty     trindade       trindade
#&gt;     resol.orig                   loc.string
#&gt; 1 municipality    brazil_rio janeiro_parati
#&gt; 2     locality brazil_rio de janeiro_paraty
#&gt; 3     locality brazil_rio de janeiro_paraty
#&gt;                                 loc.string1                        loc.string2
#&gt; 1                                      &lt;NA&gt;                               &lt;NA&gt;
#&gt; 2 brazil_rio de janeiro_paraty_paraty-mirim brazil_rio de janeiro_paraty-mirim
#&gt; 3     brazil_rio de janeiro_paraty_trindade     brazil_rio de janeiro_trindade</div><div class='input'>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Renato A. Ferreira de Lima, Sara R. Mortara, Andrea Sánchez-Tapia.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


