<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Format Locality Information — formatLoc • plantR</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Format Locality Information — formatLoc" />
<meta property="og:description" content="This function standardizes names of administrative levels from
species occurrences obtained from on-line databases, such as GBIF or
speciesLink" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">plantR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/plantr_introduction.html">An Introduction to __plantR__</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/LimaRAF/plantR/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Format Locality Information</h1>
    <small class="dont-index">Source: <a href='https://github.com/LimaRAF/plantR/blob/master/R/formatLoc.R'><code>R/formatLoc.R</code></a></small>
    <div class="hidden name"><code>formatLoc.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function standardizes names of administrative levels from
species occurrences obtained from on-line databases, such as GBIF or
speciesLink</p>
    </div>

    <pre class="usage"><span class='fu'>formatLoc</span><span class='op'>(</span>
  <span class='va'>x</span>,
  select.cols <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"loc"</span>, <span class='st'>"loc.correct"</span>, <span class='st'>"latitude.gazetteer"</span>, <span class='st'>"longitude.gazetteer"</span>,
    <span class='st'>"resolution.gazetteer"</span><span class='op'>)</span>,
  loc.levels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"country"</span>, <span class='st'>"stateProvince"</span>, <span class='st'>"municipality"</span>, <span class='st'>"locality"</span><span class='op'>)</span>,
  scrap <span class='op'>=</span> <span class='cn'>TRUE</span>,
  adm.names <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"country.new"</span>, <span class='st'>"stateProvince.new"</span>, <span class='st'>"municipality.new"</span><span class='op'>)</span>,
  loc.names <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"locality.new"</span>, <span class='st'>"locality.scrap"</span>, <span class='st'>"resol.orig"</span><span class='op'>)</span>,
  str.names <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"resol.orig"</span>, <span class='st'>"loc.string"</span>, <span class='st'>"loc.string1"</span>, <span class='st'>"loc.string2"</span><span class='op'>)</span>,
  gazet <span class='op'>=</span> <span class='st'>"plantR"</span>,
  gazet.names <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"loc"</span>, <span class='st'>"loc.correct"</span>, <span class='st'>"latitude.gazetteer"</span>, <span class='st'>"longitude.gazetteer"</span>,
    <span class='st'>"resolution.gazetteer"</span><span class='op'>)</span>,
  orig.names <span class='op'>=</span> <span class='cn'>FALSE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>a data frame, containing typical fields from occurrence records from
herbarium specimens</p></td>
    </tr>
    <tr>
      <th>select.cols</th>
      <td><p>a vector with the column names that should be added to the
input data.frame. By default only the additional columns retrieved from the
gazetteer are returned and the locality strings used in the researched are
discarded.</p></td>
    </tr>
    <tr>
      <th>loc.levels</th>
      <td><p>a vector containing the names of the locality fields to be
formatted.</p></td>
    </tr>
    <tr>
      <th>scrap</th>
      <td><p>logical. Should the search of missing locality information be
performed? Default to TRUE.</p></td>
    </tr>
    <tr>
      <th>adm.names</th>
      <td><p>a vector of columns names containing the country,
state/province and municipality information, in this order. Defaults to
'country.new', 'stateProvince.new' and 'municipality.new'.</p></td>
    </tr>
    <tr>
      <th>loc.names</th>
      <td><p>an vector of columns names containing the locality
(original and alternative) and the resolution of the locality information.
Defaults to 'locality.new', 'locality.scrap' and 'resol.orig'.</p></td>
    </tr>
    <tr>
      <th>str.names</th>
      <td><p>a vector of at least two columns names containing the
locality resolution and search string(s), in that order. Defaults to
'resol.orig', 'loc.string', 'loc.string1' and 'loc.string2'.</p></td>
    </tr>
    <tr>
      <th>gazet</th>
      <td><p>a data.frame containing the gazetteer. The default is "plantR",
the internal <strong>plantR</strong> gazetteer (biased towards Latin America).</p></td>
    </tr>
    <tr>
      <th>gazet.names</th>
      <td><p>a vector of at least four columns names containing the
locality search string, latitude and longitude, in that order. If
available, the resolution of the gazetteer can be provided as a fifth name.
Defaults to columns names of the <strong>plantR</strong> gazetteer: 'loc',
'loc.correct', 'latitude.gazetteer', 'longitude.gazetteer' and
'resolution.gazetteer'.</p></td>
    </tr>
    <tr>
      <th>orig.names</th>
      <td><p>logical. Should the original columns names of the gazetteer
be preserved. Default to FALSE.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The input data frame <code>x</code>, plus the new columns with the
formatted information.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The function works as a wrapper, where the individuals steps of the
proposed <strong>plantR</strong> workflow for editing locality information are performed
altogether (see the <strong>plantR</strong> tutorial for details).</p>
<p>The input data frame usually contains the following locality fields:
"country", "stateProvince", "municipality" and "locality".</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><a href='fixLoc.html'>fixLoc</a>, <a href='strLoc.html'>strLoc</a>, <a href='prepLoc.html'>prepLoc</a>,
and <a href='getLoc.html'>getLoc</a>.</p></div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Renato A. Ferreira de Lima, Sara R. Mortara, Andrea Sánchez-Tapia.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


