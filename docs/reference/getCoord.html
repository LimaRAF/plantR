<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Get Working Geographical Coordinates — getCoord • plantR</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Get Working Geographical Coordinates — getCoord" />
<meta property="og:description" content="This function assess the availability and precision of
the original geographical coordinates of the occurrence and it replaces
missing coordinates by the coordinates obtained from the gazetteer." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">plantR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/plantr_introduction.html">An Introduction to __plantR__</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/LimaRAF/plantR/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Get Working Geographical Coordinates</h1>
    <small class="dont-index">Source: <a href='https://github.com/LimaRAF/plantR/blob/master/R/getCoord.R'><code>R/getCoord.R</code></a></small>
    <div class="hidden name"><code>getCoord.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function assess the availability and precision of
the original geographical coordinates of the occurrence and it replaces
missing coordinates by the coordinates obtained from the gazetteer.</p>
    </div>

    <pre class="usage"><span class='fu'>getCoord</span><span class='op'>(</span>
  <span class='va'>x</span>,
  lat.orig <span class='op'>=</span> <span class='st'>"decimalLatitude"</span>,
  lon.orig <span class='op'>=</span> <span class='st'>"decimalLongitude"</span>,
  lat.gazet <span class='op'>=</span> <span class='st'>"latitude.gazetteer"</span>,
  lon.gazet <span class='op'>=</span> <span class='st'>"longitude.gazetteer"</span>,
  res.gazet <span class='op'>=</span> <span class='st'>"resolution.gazetteer"</span>,
  lat.new <span class='op'>=</span> <span class='st'>"decimalLatitude.new"</span>,
  lon.new <span class='op'>=</span> <span class='st'>"decimalLongitude.new"</span>,
  rm.gazet <span class='op'>=</span> <span class='cn'>FALSE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>a data.frame containing the original coordinates and the coordinates
obtained from a gazetteer.</p></td>
    </tr>
    <tr>
      <th>lat.orig</th>
      <td><p>character. The name of the column containing the latitude.
Default to "decimalLatitude".</p></td>
    </tr>
    <tr>
      <th>lon.orig</th>
      <td><p>character. The name of the column containing the longitude.
Default to "decimalLongitude".</p></td>
    </tr>
    <tr>
      <th>lat.gazet</th>
      <td><p>character. The name of the column containing the latitude
from the gazetteer. Default to "latitude.gazetteer".</p></td>
    </tr>
    <tr>
      <th>lon.gazet</th>
      <td><p>character. The name of the column containing the longitude
from the gazetteer. Default to "longitude.gazetteer".</p></td>
    </tr>
    <tr>
      <th>res.gazet</th>
      <td><p>character. The name of the column containing the resolution
of the locality information from which the gazetteer coordinates were
obtained.</p></td>
    </tr>
    <tr>
      <th>lat.new</th>
      <td><p>character. The name of the column containing the edited
latitude, combining the coordinates from the source data and the gazetteer.
Default to "decimalLatitude.new".</p></td>
    </tr>
    <tr>
      <th>lon.new</th>
      <td><p>character. The name of the column containing the working
longitude combining the coordinates from the source data and the gazetteer.
Default to "decimalLongitude.new".</p></td>
    </tr>
    <tr>
      <th>rm.gazet</th>
      <td><p>logical. Should the coordinates form the gazetteer be removed
from the data after the replacement of missing coordinates? Default to
FALSE.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The data frame <code>x</code> with the columns 'decimalLatitude.new' and
'decimalLongitude.new' containing the geographical coordinates at the best
locality resolution (i.e. 'administrative level') available. The function
also returns the precision of the coordinates.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The function was initially designed as part of a routine to edit and
validate geographical coordinates of plant occurrence data. It is possible
to use it separately, but it may be easier to use it under the workflow
presented in <strong>plantR</strong> tutorial (see functions <code>getLoc</code> and <code>prepCoord</code>).
If used separately, users should provide a data frame preferably with the
following six columns (the defaults): 'decimalLatitude',
'decimalLongitude', 'latitude.gazetteer', 'longitude.gazetteer',
'resolution.gazetteer', 'decimalLatitude.new' and 'decimalLongitude.new')
or to specify the respective columns in the input data.</p>
<p>The columns <code>lat.new</code> and <code>lon.new</code> are the columns containing the working
coordinates that may have been already edited by <code><a href='prepCoord.html'>prepCoord()</a></code>. It is also
the columns were the function will store the coordinates from the gazetteer
in the case of missing coordinates. If these columns are not provided in
the input data, they are assumed to be equal to <code>lat.orig</code> and <code>lon.orig</code>
and they are created internally.</p>
<p>The precision of the geographical coordinates are classified as: "degrees",
"minutes", "seconds" and "miliseconds". This classification is performed
for the latitude and longitude of each record and the worst precision
retrieved is assigned to both of them (i.e. if lat = "minutes" and lon=
"seconds", the precision = "minutes"). For simplicity, all
latitude/longitude not classified as "degrees", "minutes" or "seconds" are
classified as "miliseconds".</p>
<p>The function implicitly assumes that NA coordinates are missing and they
are replaced by the coordinates coming from the gazetteer. See the examples
below.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><a href='getLoc.html'>getLoc</a> and <a href='prepCoord.html'>prepCoord</a>.</p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Renato A. F. de Lima</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='op'>(</span><span class='va'>coords</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>decimalLatitude <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>23.5</span>, <span class='op'>-</span><span class='fl'>23.475389</span>, <span class='cn'>NA</span><span class='op'>)</span>,
                     decimalLongitude <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>47.166667</span>, <span class='op'>-</span><span class='fl'>47.123768</span>, <span class='cn'>NA</span><span class='op'>)</span>,
                     latitude.gazetteer <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>23.524052</span>, <span class='op'>-</span><span class='fl'>23.524052</span>, <span class='op'>-</span><span class='fl'>23.524052</span><span class='op'>)</span>,
                     longitude.gazetteer <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>47.122207</span>, <span class='op'>-</span><span class='fl'>47.122207</span>, <span class='op'>-</span><span class='fl'>47.122207</span><span class='op'>)</span>,
                     resolution.gazetteer <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"county"</span>, <span class='st'>"county"</span>, <span class='st'>"county"</span><span class='op'>)</span>,
                     decimalLatitude.new <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>23.5</span>, <span class='op'>-</span><span class='fl'>23.475389</span>, <span class='cn'>NA</span><span class='op'>)</span>,
                     decimalLongitude.new <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>47.166667</span>,<span class='op'>-</span><span class='fl'>47.123768</span>, <span class='cn'>NA</span><span class='op'>)</span>
                     <span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt;   decimalLatitude decimalLongitude latitude.gazetteer longitude.gazetteer
#&gt; 1       -23.50000        -47.16667          -23.52405           -47.12221
#&gt; 2       -23.47539        -47.12377          -23.52405           -47.12221
#&gt; 3              NA               NA          -23.52405           -47.12221
#&gt;   resolution.gazetteer decimalLatitude.new decimalLongitude.new
#&gt; 1               county           -23.50000            -47.16667
#&gt; 2               county           -23.47539            -47.12377
#&gt; 3               county                  NA                   NA</div><div class='input'>
<span class='fu'>getCoord</span><span class='op'>(</span><span class='va'>coords</span><span class='op'>)</span>
</div><div class='output co'>#&gt;   decimalLatitude decimalLongitude latitude.gazetteer longitude.gazetteer
#&gt; 1       -23.50000        -47.16667          -23.52405           -47.12221
#&gt; 2       -23.47539        -47.12377          -23.52405           -47.12221
#&gt; 3              NA               NA          -23.52405           -47.12221
#&gt;   resolution.gazetteer decimalLatitude.new decimalLongitude.new   origin.coord
#&gt; 1               county           -23.50000            -47.16667 coord_original
#&gt; 2               county           -23.47539            -47.12377 coord_original
#&gt; 3               county           -23.52405            -47.12221    coord_gazet
#&gt;    precision.coord
#&gt; 1          minutes
#&gt; 2      miliseconds
#&gt; 3 seconds_centroid</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Renato A. Ferreira de Lima, Sara R. Mortara, Andrea Sánchez-Tapia.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


