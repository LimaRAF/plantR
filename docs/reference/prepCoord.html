<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Format Geographical Coordinates — prepCoord • plantR</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Format Geographical Coordinates — prepCoord" />
<meta property="og:description" content="This function formats geographical coordinates to decimal
degrees" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">plantR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/plantr_introduction.html">An Introduction to __plantR__</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/LimaRAF/plantR/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Format Geographical Coordinates</h1>
    <small class="dont-index">Source: <a href='https://github.com/LimaRAF/plantR/blob/master/R/prepCoord.R'><code>R/prepCoord.R</code></a></small>
    <div class="hidden name"><code>prepCoord.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function formats geographical coordinates to decimal
degrees</p>
    </div>

    <pre class="usage"><span class='fu'>prepCoord</span><span class='op'>(</span><span class='va'>x</span>, lat <span class='op'>=</span> <span class='st'>"decimalLatitude"</span>, lon <span class='op'>=</span> <span class='st'>"decimalLongitude"</span>, flag <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>a data.frame containing the geographical coordinates</p></td>
    </tr>
    <tr>
      <th>lat</th>
      <td><p>character. The name of the column containing the latitude. Default
to "decimalLatitude".</p></td>
    </tr>
    <tr>
      <th>lon</th>
      <td><p>character. The name of the column containing the longitude.
Default to "decimalLongitude".</p></td>
    </tr>
    <tr>
      <th>flag</th>
      <td><p>logical. Should the differences between the original and edited
coordinates be flagged? Default to TRUE.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The data frame <code>x</code> with the edited geographical coordinates, in
decimal degrees. The new columns have the same name followed by the suffix
'.new'.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This is a simple function that works for standardizing common issues
in geographical coordinates, such as format and spacing. It was designed to
process coordinates already in decimal degrees. So, it does not handle all
formats and may return <code>NA</code> even if a coordinates are given and valid.</p>
<p>Currently, the function does not differentiate missing coordinates from those
provided in a format that <code>prepCoord</code> does not handle (e.g. UTM). Function
should work fine for coordinates in the degrees + decimal minutes format.
See examples below.</p>
<p>Note that if one of the coordinates is valid and the other is not, the
function returns NAs for both coordinates.</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Renato A. F. de Lima</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'>## Creating some geographical coordinates in different formats</span>
<span class='va'>coords</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>
decimalLatitude <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>23.475389</span>, <span class='st'>"-23,475389"</span>,
<span class='st'>"23o 28' 31.40\"S"</span>, <span class='op'>-</span><span class='fl'>93.475389</span>, <span class='cn'>NA</span>, <span class='fl'>0</span>, <span class='st'>"missing"</span>, <span class='st'>"blocked"</span>, <span class='cn'>NA</span>,
<span class='st'>"23° 28.5233'S"</span>,<span class='st'>"283088.52 E"</span>,<span class='st'>"-23,475,389"</span><span class='op'>)</span>,
decimalLongitude <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>47.123768</span>, <span class='st'>"-47,123768"</span>, <span class='st'>"47o 07' 25.56\"W"</span>,
<span class='op'>-</span><span class='fl'>47.123768</span>, <span class='fl'>185.578</span>, <span class='fl'>0</span>, <span class='st'>"missing"</span>,<span class='st'>"blocked"</span>, <span class='cn'>NA</span>, <span class='st'>"47° 07.4260'W"</span>,
<span class='st'>"7402251.30 S"</span>,<span class='st'>"-47,123,768"</span><span class='op'>)</span>,
stringsAsFactors <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/Encoding.html'>Encoding</a></span><span class='op'>(</span><span class='va'>coords</span><span class='op'>[</span>,<span class='fl'>1</span><span class='op'>]</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='st'>"latin1"</span>
<span class='fu'><a href='https://rdrr.io/r/base/Encoding.html'>Encoding</a></span><span class='op'>(</span><span class='va'>coords</span><span class='op'>[</span>,<span class='fl'>2</span><span class='op'>]</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='st'>"latin1"</span>
<span class='va'>coords</span>
</div><div class='output co'>#&gt;    decimalLatitude decimalLongitude
#&gt; 1       -23.475389       -47.123768
#&gt; 2       -23,475389       -47,123768
#&gt; 3  23o 28' 31.40"S  47o 07' 25.56"W
#&gt; 4       -93.475389       -47.123768
#&gt; 5             &lt;NA&gt;          185.578
#&gt; 6                0                0
#&gt; 7          missing          missing
#&gt; 8          blocked          blocked
#&gt; 9             &lt;NA&gt;             &lt;NA&gt;
#&gt; 10  23Â° 28.5233'S   47Â° 07.4260'W
#&gt; 11     283088.52 E     7402251.30 S
#&gt; 12     -23,475,389      -47,123,768</div><div class='input'>

<span class='co'>## Formatting the geographical coordinates</span>
<span class='fu'>prepCoord</span><span class='op'>(</span><span class='va'>coords</span><span class='op'>)</span>
</div><div class='output co'>#&gt;    decimalLatitude decimalLongitude decimalLatitude.new decimalLongitude.new
#&gt; 1       -23.475389       -47.123768         -23.4753890          -47.1237680
#&gt; 2       -23,475389       -47,123768         -23.4753890          -47.1237680
#&gt; 3  23o 28' 31.40"S  47o 07' 25.56"W         -23.4753889          -47.1237500
#&gt; 4       -93.475389       -47.123768                  NA                   NA
#&gt; 5             &lt;NA&gt;          185.578                  NA                   NA
#&gt; 6                0                0                  NA                   NA
#&gt; 7          missing          missing                  NA                   NA
#&gt; 8          blocked          blocked                  NA                   NA
#&gt; 9             &lt;NA&gt;             &lt;NA&gt;                  NA                   NA
#&gt; 10  23Â° 28.5233'S   47Â° 07.4260'W          -0.4753833           -0.1237667
#&gt; 11     283088.52 E     7402251.30 S                  NA                   NA
#&gt; 12     -23,475,389      -47,123,768         -23.4753890          -47.1237680
#&gt;    coord.check
#&gt; 1         TRUE
#&gt; 2        FALSE
#&gt; 3        FALSE
#&gt; 4        FALSE
#&gt; 5        FALSE
#&gt; 6        FALSE
#&gt; 7        FALSE
#&gt; 8        FALSE
#&gt; 9         TRUE
#&gt; 10       FALSE
#&gt; 11       FALSE
#&gt; 12       FALSE</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Renato A. Ferreira de Lima, Sara R. Mortara, Andrea Sánchez-Tapia.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


