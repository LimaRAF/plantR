<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Prepare For Duplicate Specimen Search — prepDup • plantR</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Prepare For Duplicate Specimen Search — prepDup" />
<meta property="og:description" content="This function creates the duplicate search strings by
concatenating the information on the taxonomy, collection and locality of
the records." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">plantR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/plantr_introduction.html">An Introduction to __plantR__</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/LimaRAF/plantR/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Prepare For Duplicate Specimen Search</h1>
    <small class="dont-index">Source: <a href='https://github.com/LimaRAF/plantR/blob/master/R/prepDup.R'><code>R/prepDup.R</code></a></small>
    <div class="hidden name"><code>prepDup.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function creates the duplicate search strings by
concatenating the information on the taxonomy, collection and locality of
the records.</p>
    </div>

    <pre class="usage"><span class='fu'>prepDup</span><span class='op'>(</span>
  <span class='va'>x</span>,
  col.names <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span>family <span class='op'>=</span> <span class='st'>"family.new"</span>, species <span class='op'>=</span> <span class='st'>"scientificName.new"</span>, col.name <span class='op'>=</span>
    <span class='st'>"recordedBy.new"</span>, col.last.name <span class='op'>=</span> <span class='st'>"last.name"</span>, col.number <span class='op'>=</span> <span class='st'>"recordNumber.new"</span>,
    col.year <span class='op'>=</span> <span class='st'>"year.new"</span>, col.loc <span class='op'>=</span> <span class='st'>"municipality.new"</span>, loc.str <span class='op'>=</span> <span class='st'>"loc.correct"</span><span class='op'>)</span>,
  comb.fields <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"family"</span>, <span class='st'>"col.last.name"</span>, <span class='st'>"col.number"</span>, <span class='st'>"col.loc"</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"family"</span>,
    <span class='st'>"col.year"</span>, <span class='st'>"col.number"</span>, <span class='st'>"col.loc"</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"species"</span>, <span class='st'>"col.last.name"</span>, <span class='st'>"col.number"</span>,
    <span class='st'>"col.year"</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"col.year"</span>, <span class='st'>"col.last.name"</span>, <span class='st'>"col.number"</span>, <span class='st'>"col.loc"</span><span class='op'>)</span><span class='op'>)</span>,
  rec.ID <span class='op'>=</span> <span class='st'>"numTombo"</span>,
  noYear <span class='op'>=</span> <span class='st'>"s.d."</span>,
  noName <span class='op'>=</span> <span class='st'>"s.n."</span>,
  noNumb <span class='op'>=</span> <span class='st'>"s.n."</span>,
  ignore.miss <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>a data frame with the species records.</p></td>
    </tr>
    <tr>
      <th>col.names</th>
      <td><p>vector. A named vector containing the names of columns in
the input data frame for each of the information that should be used to
create the duplicate search string(s). Default to the <strong>plantR</strong> output
column names.</p></td>
    </tr>
    <tr>
      <th>comb.fields</th>
      <td><p>list. A list containing one or more vectors with the
information that should be used to create the duplicate search strings.
Default to four vectors of information to be combined.</p></td>
    </tr>
    <tr>
      <th>rec.ID</th>
      <td><p>character. The name of the columns containing the unique record
identifier (see function <code><a href='getTombo.html'>getTombo()</a></code>). Default to 'numTombo'.</p></td>
    </tr>
    <tr>
      <th>noYear</th>
      <td><p>character. Standard for missing data in Year. Default to
"n.d.".</p></td>
    </tr>
    <tr>
      <th>noName</th>
      <td><p>character. Standard for missing data in collector name. Default
to "s.n.".</p></td>
    </tr>
    <tr>
      <th>noNumb</th>
      <td><p>character. Standard for missing data in collector number.
Default to "s.n.".</p></td>
    </tr>
    <tr>
      <th>ignore.miss</th>
      <td><p>logical. Should the duplicate search strings with
missing/unknown information (e.g. 'n.d.', 's.n.', NA) be excluded from the
duplicate search. Default to TRUE.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Three groups of fields are available to produce the duplicate search
string, and they are related to taxonomy, collection and locality of the
specimen. These fields should be provided to the argument <code>col.names</code> and
they are:</p><ul>
<li><p>'family': the botanical family (default: 'family.new')</p></li>
<li><p>'species': the scientific name (default: 'scientificName.new')</p></li>
<li><p>'col.name': the collector name (default: 'recordedBy.new')</p></li>
<li><p>'col.last.name': the collector last name (default: 'last.name')</p></li>
<li><p>'col.number': the collector serial number (default: 'recordNumber.new')</p></li>
<li><p>'col.year': the collection year (default: 'year.new')</p></li>
<li><p>'col.loc': the collection locality (default: 'municipality.new')</p></li>
</ul>

<p>The corresponding columns that should be used to retrieve these fields in
the input data frame must be provided as a named vector in the argument
<code>col.names</code>, in which the fields listed above are the names and
each element is the corresponding column name in the input data frame.</p>
<p>If an element named 'loc.str' containing the column name of the <strong>plantR</strong>
locality string (i.e. 'loc.correct') is also provided, it can be used to
complement any missing locality information in the locality of the
collection (i.e 'col.loc') that may have been retrieved in the data
processing within the <strong>plantR</strong> workflow.</p>
<p>The duplicate search strings are created by combining the fields listed
above. Each combination of those fields (e.g. 'col.name' and 'col.number')
should be provided to the argument <code>comb.fields</code> as a vector within a list.
The number of strings to be generated will correspond to the number of
vectors in this list. The order of the fields within vectors does not
change the duplicate search process.</p>
<p>The argument <code>rec.ID</code> should indicate the column name in the input data
containing the unique record identifier, which in the <strong>plantR</strong> workflow
is obtained using the function <code><a href='getTombo.html'>getTombo()</a></code>. If only GBIF data is used,
this column could be the field 'gbifID'. This identifier is used to
indicate the groups of duplicated records, which is one of the outputs of
function <code><a href='getDup.html'>getDup()</a></code> and is used to homogenize information within the groups
of duplicates (function <code><a href='mergeDup.html'>mergeDup()</a></code>).</p>
<p>Please note that the retrieval of duplicates greatly depends on the
completeness of the input information and in the amount of differences of
notation standards among collections. In addition, the smaller the vectors
of fields to be combined to create the duplicate strings, the higher the
number of (true and false) duplicates will be retrieved.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><a href='getTombo.html'>getTombo</a>, <a href='getDup.html'>getDup</a> and <a href='mergeDup.html'>mergeDup</a>.</p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Renato A. F. de Lima</p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Renato A. Ferreira de Lima, Sara R. Mortara, Andrea Sánchez-Tapia.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


