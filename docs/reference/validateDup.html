<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Prepare, Search and Merge Duplicate Specimens — validateDup • plantR</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Prepare, Search and Merge Duplicate Specimens — validateDup" />
<meta property="og:description" content="This function search for duplicated specimens within and across
collections and it can be used to homogenize the information of
different groups of fields and to remove duplicates, leaving only one
occurrence for each group of duplicata." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">plantR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/plantr_introduction.html">An Introduction to __plantR__</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/LimaRAF/plantR/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Prepare, Search and Merge Duplicate Specimens</h1>
    <small class="dont-index">Source: <a href='https://github.com/LimaRAF/plantR/blob/master/R/validateDup.R'><code>R/validateDup.R</code></a></small>
    <div class="hidden name"><code>validateDup.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function search for duplicated specimens within and across
collections and it can be used to homogenize the information of
different groups of fields and to remove duplicates, leaving only one
occurrence for each group of duplicata.</p>
    </div>

    <pre class="usage"><span class='fu'>validateDup</span><span class='op'>(</span>
  <span class='va'>occ.df</span>,
  cat.code <span class='op'>=</span> <span class='st'>"collectionCode.new"</span>,
  cat.numb <span class='op'>=</span> <span class='st'>"catalogNumber"</span>,
  merge <span class='op'>=</span> <span class='cn'>TRUE</span>,
  remove <span class='op'>=</span> <span class='cn'>FALSE</span>,
  noYear <span class='op'>=</span> <span class='st'>"s.d."</span>,
  noName <span class='op'>=</span> <span class='st'>"s.n."</span>,
  noNumb <span class='op'>=</span> <span class='st'>"s.n."</span>,
  comb.fields <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"family"</span>, <span class='st'>"col.last.name"</span>, <span class='st'>"col.number"</span>, <span class='st'>"col.loc"</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"family"</span>,
    <span class='st'>"col.year"</span>, <span class='st'>"col.number"</span>, <span class='st'>"col.loc"</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"species"</span>, <span class='st'>"col.last.name"</span>, <span class='st'>"col.number"</span>,
    <span class='st'>"col.year"</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"col.year"</span>, <span class='st'>"col.last.name"</span>, <span class='st'>"col.number"</span>, <span class='st'>"col.loc"</span><span class='op'>)</span><span class='op'>)</span>,
  ignore.miss <span class='op'>=</span> <span class='cn'>TRUE</span>,
  dup.name <span class='op'>=</span> <span class='st'>"dup.ID"</span>,
  prop.name <span class='op'>=</span> <span class='st'>"dup.prop"</span>,
  prop <span class='op'>=</span> <span class='fl'>0.75</span>,
  rec.ID <span class='op'>=</span> <span class='st'>"numTombo"</span>,
  info2merge <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"tax"</span>, <span class='st'>"geo"</span>, <span class='st'>"loc"</span><span class='op'>)</span>,
  tax.names <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span>family <span class='op'>=</span> <span class='st'>"family.new"</span>, species <span class='op'>=</span> <span class='st'>"scientificName.new"</span>, det.name <span class='op'>=</span>
    <span class='st'>"identifiedBy.new"</span>, det.year <span class='op'>=</span> <span class='st'>"yearIdentified.new"</span>, tax.check <span class='op'>=</span> <span class='st'>"tax.check"</span>, status
    <span class='op'>=</span> <span class='st'>"scientificNameStatus"</span><span class='op'>)</span>,
  geo.names <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span>lat <span class='op'>=</span> <span class='st'>"decimalLatitude.new"</span>, lon <span class='op'>=</span> <span class='st'>"decimalLongitude.new"</span>, org.coord <span class='op'>=</span>
    <span class='st'>"origin.coord"</span>, prec.coord <span class='op'>=</span> <span class='st'>"precision.coord"</span>, geo.check <span class='op'>=</span> <span class='st'>"geo.check"</span><span class='op'>)</span>,
  loc.names <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span>loc.str <span class='op'>=</span> <span class='st'>"loc.correct"</span>, res.gazet <span class='op'>=</span> <span class='st'>"resolution.gazetteer"</span>, res.orig <span class='op'>=</span>
    <span class='st'>"resol.orig"</span>, loc.check <span class='op'>=</span> <span class='st'>"loc.check"</span><span class='op'>)</span>,
  tax.level <span class='op'>=</span> <span class='st'>"high"</span>,
  overwrite <span class='op'>=</span> <span class='cn'>FALSE</span>,
  print.rm <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>occ.df</th>
      <td><p>a data frame, containing typical fields from occurrence records
from herbarium specimens</p></td>
    </tr>
    <tr>
      <th>cat.code</th>
      <td><p>character. The name of the column containing the code of the
collection. Default to the <strong>plantR</strong> output column "collectionCode.new".</p></td>
    </tr>
    <tr>
      <th>cat.numb</th>
      <td><p>character. The name of the column containing the catalog
number (a.k.a. accession number) of the record. Default to "catalogNumber".</p></td>
    </tr>
    <tr>
      <th>merge</th>
      <td><p>logical. Should duplicates be merged? Default to TRUE.</p></td>
    </tr>
    <tr>
      <th>remove</th>
      <td><p>logical. Should all duplicates be removed or only the
duplicated entries from the same collection? Default to FALSE.</p></td>
    </tr>
    <tr>
      <th>noYear</th>
      <td><p>character. Standard for missing data in Year. Default to
"n.d.".</p></td>
    </tr>
    <tr>
      <th>noName</th>
      <td><p>character. Standard for missing data in collector name. Default
to "s.n.".</p></td>
    </tr>
    <tr>
      <th>noNumb</th>
      <td><p>character. Standard for missing data in collector number.
Default to "s.n.".</p></td>
    </tr>
    <tr>
      <th>comb.fields</th>
      <td><p>list. A list containing one or more vectors with the
information that should be used to create the duplicate search strings.
Default to four vectors of information to be combined.</p></td>
    </tr>
    <tr>
      <th>ignore.miss</th>
      <td><p>logical. Should the duplicate search strings with
missing/unknown information (e.g. 'n.d.', 's.n.', NA) be excluded from the
duplicate search. Default to TRUE.</p></td>
    </tr>
    <tr>
      <th>dup.name</th>
      <td><p>character. The name of column in the input data frame with
the duplicate group ID. Default to the <strong>plantR</strong> output 'dup.ID'.</p></td>
    </tr>
    <tr>
      <th>prop.name</th>
      <td><p>character. The name of column in the input data frame with
the proportion of duplicates found within the group ID. Default to the
<strong>plantR</strong> output 'dup.prop'.</p></td>
    </tr>
    <tr>
      <th>prop</th>
      <td><p>numerical. The threshold value of proportion of duplicated values
retrieved (i.e. dup.prop) to enter the merging routine. Should be between
zero and one. Default to 0.75.</p></td>
    </tr>
    <tr>
      <th>rec.ID</th>
      <td><p>character. The name of the columns containing the unique record
identifier (see function <code><a href='getTombo.html'>getTombo()</a></code>). Default to 'numTombo'.</p></td>
    </tr>
    <tr>
      <th>info2merge</th>
      <td><p>Vector. The groups of information (i.e. fields) to be
merged. Currently, only taxonomic ('tax'), geographic ('geo') and/or
locality ('loc') information can be merged. Default to merge all of them.</p></td>
    </tr>
    <tr>
      <th>tax.names</th>
      <td><p>Vector. A named vector containing the names of columns in
the input data frame with the taxonomic information to be merged.</p></td>
    </tr>
    <tr>
      <th>geo.names</th>
      <td><p>Vector. A named vector containing the names of columns in
the input data frame with the geographical information to be merged.</p></td>
    </tr>
    <tr>
      <th>loc.names</th>
      <td><p>Vector. A named vector containing the names of columns in
the input data frame with the locality information to be merged.</p></td>
    </tr>
    <tr>
      <th>tax.level</th>
      <td><p>character. A vector with the confidence level of the
identification that should be considered in the merge of taxonomic
information. Default to "high".</p></td>
    </tr>
    <tr>
      <th>overwrite</th>
      <td><p>logical. Should the merged information be overwritten or
stored in separate, new columns. Default to FALSE (new columns are
created).</p></td>
    </tr>
    <tr>
      <th>print.rm</th>
      <td><p>logical. Should the number of records removed be printed?
Default to TRUE.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The input data frame, plus the new columns with the formatted
fields.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The function works similarly to a wrapper function, where the
individuals steps of the proposed <strong>plantR</strong> workflow for preparing,
searching, merging and removal of duplicates are performed altogether (see
the <strong>plantR</strong> tutorial for details).</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><a href='prepDup.html'>prepDup</a>, <a href='getDup.html'>getDup</a>, <a href='mergeDup.html'>mergeDup</a>,
<a href='rmDup.html'>rmDup</a></p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Renato A. F. de Lima</p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Renato A. Ferreira de Lima, Sara R. Mortara, Andrea Sánchez-Tapia.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


