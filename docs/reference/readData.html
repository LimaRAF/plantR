<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Read Data From DwC-A Files — readData • plantR</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Read Data From DwC-A Files — readData" />
<meta property="og:description" content="This function reads species records from Darwin Core Archive
(DwC-A) files, typically obtained from GBIF as a '.zip' file. It returns
different information from inside the DwC-A files so it can enter the
plantR workflow. Optionally, it can be used to save the required
information into a local directory." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">plantR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/plantr_introduction.html">An Introduction to __plantR__</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/LimaRAF/plantR/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Read Data From DwC-A Files</h1>
    <small class="dont-index">Source: <a href='https://github.com/LimaRAF/plantR/blob/master/R/readData.R'><code>R/readData.R</code></a></small>
    <div class="hidden name"><code>readData.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function reads species records from Darwin Core Archive
(DwC-A) files, typically obtained from GBIF as a '.zip' file. It returns
different information from inside the DwC-A files so it can enter the
<strong>plantR</strong> workflow. Optionally, it can be used to save the required
information into a local directory.</p>
    </div>

    <pre class="usage"><span class='fu'>readData</span><span class='op'>(</span>
  file <span class='op'>=</span> <span class='cn'>NULL</span>,
  path <span class='op'>=</span> <span class='st'>""</span>,
  dir.name <span class='op'>=</span> <span class='st'>""</span>,
  dir.tmp <span class='op'>=</span> <span class='st'>"plantR_input"</span>,
  method <span class='op'>=</span> <span class='st'>"auto"</span>,
  bind.data <span class='op'>=</span> <span class='cn'>TRUE</span>,
  output <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"occurrence"</span>, <span class='st'>"verbatim"</span>, <span class='st'>"citations"</span><span class='op'>)</span>,
  save <span class='op'>=</span> <span class='cn'>FALSE</span>,
  file.format <span class='op'>=</span> <span class='st'>"csv"</span>,
  compress <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>file</th>
      <td><p>character. Name of the DwC-A file (often a '.zip') containing the
species records.</p></td>
    </tr>
    <tr>
      <th>path</th>
      <td><p>character. The path to the directory where the file was saved or
of the web Uniform Resource Locator (URL) from which the file can be
downloaded from. Default to the user working directory or to gbif download
path.</p></td>
    </tr>
    <tr>
      <th>dir.name</th>
      <td><p>character. Name of the folder where the processed data should
be saved. Default the directory defined by <code>path</code>.</p></td>
    </tr>
    <tr>
      <th>dir.tmp</th>
      <td><p>character. Name of the sub-folder where the temporary files
should be saved within <code>dir.name</code>. Default to "plantR_input".</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>the method to be passed to function <code><a href='https://rdrr.io/r/utils/download.file.html'>download.file()</a></code> for
downloading files. Default to 'auto'.</p></td>
    </tr>
    <tr>
      <th>bind.data</th>
      <td><p>logical. Should the occurrence and verbatim information be
combined into a single table? Default to TRUE.</p></td>
    </tr>
    <tr>
      <th>output</th>
      <td><p>character. Which information from the Darwin-Core file should
be returned/saved? Default to 'occurrence', 'verbatim' and 'citations'.</p></td>
    </tr>
    <tr>
      <th>save</th>
      <td><p>logical. Should the information be saved to file? Default to
FALSE.</p></td>
    </tr>
    <tr>
      <th>file.format</th>
      <td><p>character. The file extension to be used for saving.
Default to 'csv'.</p></td>
    </tr>
    <tr>
      <th>compress</th>
      <td><p>logical. Should the files be compressed? Default to TRUE.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function provides different options to read DwC-A files,
typically the ones obtained from GBIF. Currently, this zip file can be read
from a local directory or directly from GBIF API address. If the path is an
URL address (e.g. https://api.gbif.org/v1/occurrence/download/request),
then the function will download the zip file directly from the GBIF API.</p>
<p>The argument <code>output</code> defines which of the information within GBIF DwC-A
files should be returned. Currently, the outputs available are:
'occurrence', 'verbatim', 'multimedia', 'citations' and 'rights'. If more
than one output is selected, the function returns a list in which each
element represent the selected outputs. Currently, no data and database
metadata are returned (i.e. '.xml' files). See package <strong>finch</strong> for the
complete parsing of DwC-A files and metadata.</p>
<p>All temporary files and folders are deleted after the extraction of the
information, except if <code>save</code> is TRUE. In this case, only the unzipped
files within the DwC-A file are removed.</p>
<p>Downloading large files (more than 2GB) may be an issue for some R
versions. The <code>method</code> 'wget' may be more appropriate for users with proxy
firewalls (see help of function <code><a href='https://rdrr.io/r/utils/download.file.html'>download.file()</a></code>).</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='va'>occs</span> <span class='op'>&lt;-</span> <span class='fu'>readData</span><span class='op'>(</span>file <span class='op'>=</span> <span class='st'>"0227351-200613084148143.zip"</span>,
                   <span class='va'>path</span> <span class='op'>&lt;-</span> <span class='st'>"https://api.gbif.org/v1/occurrence/download/request/"</span><span class='op'>)</span>
<span class='op'>}</span>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Renato A. Ferreira de Lima, Sara R. Mortara, Andrea Sánchez-Tapia.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


