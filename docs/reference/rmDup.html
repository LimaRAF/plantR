<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Remove Duplicates — rmDup • plantR</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Remove Duplicates — rmDup" />
<meta property="og:description" content="This function keeps one and removes all other specimens within
groups of duplicate specimens." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">plantR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/plantr_introduction.html">An Introduction to __plantR__</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/LimaRAF/plantR/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Remove Duplicates</h1>
    <small class="dont-index">Source: <a href='https://github.com/LimaRAF/plantR/blob/master/R/rmDup.R'><code>R/rmDup.R</code></a></small>
    <div class="hidden name"><code>rmDup.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function keeps one and removes all other specimens within
groups of duplicate specimens.</p>
    </div>

    <pre class="usage"><span class='fu'>rmDup</span><span class='op'>(</span>
  <span class='va'>df</span>,
  dup.name <span class='op'>=</span> <span class='st'>"dup.ID"</span>,
  prop.name <span class='op'>=</span> <span class='st'>"dup.prop"</span>,
  rec.ID <span class='op'>=</span> <span class='st'>"numTombo"</span>,
  order.by <span class='op'>=</span> <span class='cn'>NULL</span>,
  rm.all <span class='op'>=</span> <span class='cn'>FALSE</span>,
  print.rm <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>df</th>
      <td><p>the input data frame.</p></td>
    </tr>
    <tr>
      <th>dup.name</th>
      <td><p>character. The name of column in the input data frame with
the duplicate group ID. Default to the <strong>plantR</strong> output 'dup.ID'.</p></td>
    </tr>
    <tr>
      <th>prop.name</th>
      <td><p>character. The name of column in the input data frame with
the proportion of duplicates found within the group ID. Default to the
<strong>plantR</strong> output 'dup.prop'.</p></td>
    </tr>
    <tr>
      <th>rec.ID</th>
      <td><p>character. The name of the columns containing the unique record
identifier (see function <code><a href='getTombo.html'>getTombo()</a></code>). Default to 'numTombo'.</p></td>
    </tr>
    <tr>
      <th>order.by</th>
      <td><p>character. Column name(s) used to order records within
groups of duplicates.</p></td>
    </tr>
    <tr>
      <th>rm.all</th>
      <td><p>logical. Should all duplicates be removed or only the
duplicated entries from the same collection but different sources?
Default to FALSE.</p></td>
    </tr>
    <tr>
      <th>print.rm</th>
      <td><p>logical. Should the number of records removed be printed?
Default to TRUE.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The input data frame <code>df</code> must contain the typical columns
resulting from <strong>plantR</strong> workflow and functions. Otherwise, the names
of these columns should be provided using arguments <code>dup.name</code> (i.e.
characters used to aggregate records into groups of duplicates) and
<code>prop.name</code> (i.e. proportion of duplicated records).</p>
<p>Since only one record is kept per group of duplicates, this procedure
should preferably be carried after the homogenization of the specimens
informations (see function <code><a href='mergeDup.html'>mergeDup()</a></code>). Otherwise, important information
on the removed records may be lost.</p>
<p>In addition, since not all columns are merged within duplicates (only the
columns related to the taxonomic, geographical and location validation
procedures), all other information contained in the removed records are
lost. Therefore, make sure that this information in unnecessary for your
specific purposes before using this function.</p>
<p>By default, the record retained for each group of duplicates is determined
by the proportion of duplicates the record has within the group (argument
<code>prop.name</code>) and by the original order of the input data frame <code>df</code>.
So, the first record with the highest proportion of duplicates will be the
record retained. But the user can use the argument <code>order.by</code> if the data
should be order by any of the columns in the input data. This column will
be used to create the 'key' within the <code>data.table</code> parlance and order the
data accordingly.</p>
<p>Finally, users can choose between removing all but one records within each
group of duplicate, or to remove only those records with duplicated entries
from the same collection in different sources (i.e. virtual duplicates),
using the argument <code>rm.all</code>. This option can be useful if the same
collection has its database in two or more repositories (e.g. speciesLink
and GBIF). It is important to note that this removal is dependent on the
duplicate group ID found for each record. So, if the information was
entered differently in the different sources, it is not guaranteed that
they will be grouped under the same duplicate group ID, and thus be
excluded from the data.</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Renato A. F. de Lima</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='op'>(</span><span class='va'>df</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>numTombo <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"a1"</span>, <span class='st'>"b2"</span>, <span class='st'>"c3"</span>, <span class='st'>"c3"</span>, <span class='st'>"d5"</span>, <span class='st'>"d5"</span>, <span class='st'>"e7"</span>, <span class='st'>"f4"</span>, <span class='st'>"g9"</span><span class='op'>)</span>,
                  dup.ID <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"a1|b2"</span>, <span class='st'>"a1|b2"</span>, <span class='st'>"c3|c3"</span>, <span class='st'>"c3|c3"</span>, <span class='st'>"d5|d5|e7"</span>,
                             <span class='st'>"d5|d5|e7"</span>, <span class='st'>"d5|d5|e7"</span>, <span class='st'>"f4"</span>, <span class='cn'>NA</span><span class='op'>)</span>,
                  dup.prop <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>1</span>, <span class='fl'>1</span>, <span class='fl'>1</span>, <span class='fl'>0.5</span>, <span class='fl'>0.5</span>, <span class='fl'>1</span>, <span class='fl'>1</span>, <span class='cn'>NA</span><span class='op'>)</span>,
                  stringsAsFactors <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt;   numTombo   dup.ID dup.prop
#&gt; 1       a1    a1|b2      1.0
#&gt; 2       b2    a1|b2      1.0
#&gt; 3       c3    c3|c3      1.0
#&gt; 4       c3    c3|c3      1.0
#&gt; 5       d5 d5|d5|e7      0.5
#&gt; 6       d5 d5|d5|e7      0.5
#&gt; 7       e7 d5|d5|e7      1.0
#&gt; 8       f4       f4      1.0
#&gt; 9       g9     &lt;NA&gt;       NA</div><div class='input'><span class='fu'>rmDup</span><span class='op'>(</span><span class='va'>df</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 2 truly duplicate records (same record in different sources) were removed from the data</div><div class='output co'>#&gt;   numTombo   dup.ID dup.prop
#&gt; 1       a1    a1|b2      1.0
#&gt; 2       b2    a1|b2      1.0
#&gt; 3       c3    c3|c3      1.0
#&gt; 4       d5 d5|d5|e7      0.5
#&gt; 5       e7 d5|d5|e7      1.0
#&gt; 6       f4       f4      1.0
#&gt; 7       g9     &lt;NA&gt;       NA</div><div class='input'><span class='fu'>rmDup</span><span class='op'>(</span><span class='va'>df</span>, rm.all <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 4 truly duplicate records (same record in different sources) were removed from the data</div><div class='output co'>#&gt;   numTombo   dup.ID dup.prop
#&gt; 1       a1    a1|b2        1
#&gt; 2       c3    c3|c3        1
#&gt; 3       e7 d5|d5|e7        1
#&gt; 4       f4       f4        1
#&gt; 5       g9     &lt;NA&gt;       NA</div><div class='input'><span class='fu'>rmDup</span><span class='op'>(</span><span class='va'>df</span>, rm.all <span class='op'>=</span> <span class='cn'>TRUE</span>, print.rm <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
</div><div class='output co'>#&gt;   numTombo   dup.ID dup.prop
#&gt; 1       a1    a1|b2        1
#&gt; 2       c3    c3|c3        1
#&gt; 3       e7 d5|d5|e7        1
#&gt; 4       f4       f4        1
#&gt; 5       g9     &lt;NA&gt;       NA</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Renato A. Ferreira de Lima, Sara R. Mortara, Andrea Sánchez-Tapia.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


